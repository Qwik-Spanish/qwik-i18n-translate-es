---
title: Qwik City - Aplicaciones Web Estáticas de Azure
contributors:
  - derkoe
  - manucorporat
  - reemardelarosa
  - mhevery
---

# Middleware para Aplicaciones Web Estáticas de Azure

El middleware para Aplicaciones Web Estáticas de Azure te permite conectar Qwik City a las [Aplicaciones Web Estáticas de Azure](https://learn.microsoft.com/azure/static-web-apps/).

## Instalación

Para integrar el adaptador `azure-swa`, utiliza el siguiente comando `add`:

```shell
npm run qwik add azure-swa
```

El adaptador agregará un nuevo archivo `vite.config.ts` dentro del directorio `adapters/`, y se creará un nuevo archivo de entrada, por ejemplo:

```shell
└── adapters/
    └── azure-swa/
        └── vite.config.ts
└── src/
    └── entry.azure-swa.tsx
```

Adicionalmente, dentro de `package.json`, se actualizarán los scripts `build.server` y `deploy`.

## Compilación para producción

Para compilar la aplicación para producción, utiliza el comando `build`, este comando ejecutará automáticamente `npm run build.server` y `npm run build.client`:

```shell
npm run build
```

## Despliegue en Azure

Después de instalar la integración mediante `npm run qwik add azure-swa`, el proyecto estará listo para ser desplegado en Aplicaciones Web Estáticas de Azure.

Existen tres formas de desplegarlo:

1. Despliegue con [Static Web Apps CLI](https://azure.github.io/static-web-apps-cli/)

   Puedes desplegar tu aplicación desde tu entorno local con:

   ```shell
   npx swa deploy
   ```

   Esto iniciará un asistente que te guiará a través del inicio de sesión y el despliegue en Azure.

2. Despliegue desde GitHub

   Puedes desplegar tu aplicación a través de GitHub. Crea un repositorio Git, realiza todos tus cambios y luego publica tu rama en GitHub.

   Crea una aplicación web estática de Azure a través del Portal de Azure y elige el repositorio de GitHub en los detalles de despliegue. Cuando se te solicite los detalles de compilación, elige "Personalizada" (Custom) y establece los siguientes valores:

   - Ubicación de la aplicación: "."
   - Ubicación de la API: "./azure-functions"
   - Ubicación de salida: "./dist"

   Esto configurará un flujo de trabajo de GitHub en tu repositorio que desplegará tu aplicación para la rama principal y cada solicitud de extracción.

   El archivo de flujo de trabajo resultante debe adaptarse añadiendo lo siguiente al bloque "Repository/Build Configurations":

   ```text /skip_api_build/#b /true/#c
   skip_api_build: true
   ```

   Consulta [Aplicaciones Web Estáticas de Azure quickstart](https://learn.microsoft.com/azure/static-web-apps/get-started-portal?pivots=github) para obtener más información.

3. Despliegue desde cualquier sistema de CI

   Puedes desplegar en Aplicaciones Web Estáticas de Azure con cualquier sistema de CI estableciendo la variable de entorno `SWA_CLI_DEPLOYMENT_TOKEN` con el token de despliegue de Azure SWA y luego ejecutando el siguiente comando desde tu pipeline:

   ```shell
   swa deploy ./dist --api-location ./azure-functions --env production
   ```

Ten en cuenta que necesitarás una [cuenta de Azure](https://signup.azure.com/) para completar este paso.
