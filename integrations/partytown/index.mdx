---
title: Qwik City and Partytown
keywords: 'third party scripts, google analytics, 3rd party, scripts, performance'
contributors:
  - manucorporat
  - leifermendez
  - shairez
  - pamenary
  - reemardelarosa
  - mhevery
---

# Partytown

Los scripts de terceros ralentizan considerablemente la carga inicial de la página al bloquear el hilo principal (main thread).

Partytown es una herramienta que te permite realizar la carga de scripts de terceros, como Google Analytics, Facebook Pixel, etc., fuera del hilo principal utilizando un web worker. Para obtener más información sobre esta herramienta, visita la [documentación de Partytown](https://partytown.builder.io/).

## Uso

Puedes agregar Partytown fácilmente utilizando el siguiente script de inicialización de Qwik:

```shell
npm run qwik add partytown
```

El comando anterior actualiza tu aplicación y configura correctamente `vite.config.ts`.

También agrega nuevos archivos dentro de tu carpeta `components`.

```tsx title="src/root.tsx"
import { QwikPartytown } from './components/partytown/partytown';

export default component$(() => {
  return (
    <QwikCityProvider>
      <head>
        <meta charSet="utf-8" />
        <QwikPartytown forward={['dataLayer.push']} />
        <script
          async
          type="text/partytown"
          src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"
        />
      </head>
      <body lang="en"></body>
    </QwikCityProvider>
  );
});
```

## Avanzado

Para configurar Partytown con más opciones, visita la [Documentación de Partytown](https://partytown.builder.io/configuration)
